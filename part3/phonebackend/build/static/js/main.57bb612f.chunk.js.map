{"version":3,"sources":["services/Persons.js","components/Display.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Display","person","handleClick","name","number","onClick","Message","message","messageState","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","persons","setPersons","useEffect","personService","newName","setNewName","newNumber","setNewNumber","filter","setFilter","setMessage","setMessageState","handleDeleteButton","window","confirm","setTimeout","catch","value","onChange","event","target","onSubmit","preventDefault","console","log","personsObjekt","vorhanden","length","error","type","toLowerCase","search","map","key","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.57bb612f.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\nconst destroy =(id) =>{\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default { getAll, create, update, destroy }","import React from 'react'\r\n\r\nconst Display = ({person, handleClick}) =>{\r\n    \r\n    return (\r\n        <div>\r\n            <li>{person.name} {person.number}<button onClick={()=>handleClick(person)}>delete</button></li>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Display;","import React, {useState, useEffect} from 'react';\n\nimport personService from './services/Persons'\nimport Display from './components/Display'\n\nconst Message = ({message, messageState}) =>{  \n  const messageStyle ={\n    color: 'green',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n  const errorStyle ={\n    color: 'red',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n\nif(message === null){return(<div></div>)}\n  else{\n    return(<div style={(messageState === 's' ? messageStyle : errorStyle)}>{message}</div>)\n  }\n}\n\n\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  useEffect(() => {\n      personService\n      .getAll()\n      .then(response => {\n        setPersons(response)\n      })\n  }, [])\n\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ filter, setFilter] = useState('')\n  const [ message, setMessage] = useState(null)\n  const [ messageState, setMessageState] = useState(null)\n  \n  const handleNameChange = (event) => {setNewName(event.target.value)}\n  const handleNumberChange = (event) => {setNewNumber(event.target.value)}\n  const handleFilterChange = (event) => {setFilter(event.target.value)}\n\n  const handleDeleteButton = ({name, number, id}) => {\n    if(window.confirm(\"Destroy \"+name+\"??\")){\n    personService\n    .destroy(id)\n    .then(response =>{\n      personService\n      .getAll()\n      .then(response => {\n        setPersons(response)\n        setMessageState(\"s\")\n        setMessage(`Destroyed ${name}`)\n        setTimeout(() => {\n        setMessageState(null)\n        setMessage(null)\n      }, 3000)})}\n    )\n    .catch(() =>{\n        setMessageState(\"e\")\n        setMessage(`${name} was already destroyed`)\n        setTimeout(() => {\n          setMessageState(null)\n          setMessage(null)\n        }, 3000)\n    })\n    }\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    console.log('button clicked', event.target)\n\n    const personsObjekt = {\n      name: newName,\n      number: newNumber\n    }\n    \n    var vorhanden = persons.filter(person => person.name === newName)\n    console.log(vorhanden)\n    if(vorhanden.length)\n    {  \n      if(window.confirm(newName +\" ist bereits vorhanden\")){\n        personService.update(vorhanden[0].id, personsObjekt)\n        .then(personService.getAll().then(response=> {\n          setPersons(response)\n          setMessageState(\"s\")\n          setMessage(`Updated ${newName}`)\n          setTimeout(() => {\n        setMessageState(null)\n        setMessage(null)\n      }, 3000)\n        }))}\n    }\n    else\n    {\n    personService\n      .create(personsObjekt)\n      .then(response => {personService.getAll()\n      .then(response => {\n\n      setPersons(response)\n      setMessageState(\"s\")\n      setMessage(`Created ${newName}`)\n      setTimeout(() => {\n        setMessageState(null)\n        setMessage(null)\n      }, 3000)\n      setNewName('')\n      setNewNumber('')\n      setFilter('')\n    }\n    )\n    }\n    )\n    .catch(error => {\n      console.log(error.response.data)\n      setMessageState(\"e\")\n      setMessage(error.response.data.error)\n      setTimeout(() => {\n        setMessageState(null)\n        setMessage(null)\n      }, 3000)\n    })\n    }\n  }\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <div>\n        <Message message={message} messageState={messageState}></Message>\n      </div>\n      <div>\n\n        Filter:\n        <input value={filter}\n        onChange={handleFilterChange}\n        />\n      </div>\n      <form onSubmit = {addPerson}>\n        <div>\n          \n          Name: \n          <input value={newName}\n          onChange={handleNameChange} \n          />\n          </div>\n          <div>\n          Nummer:\n          <input value={newNumber}\n          onChange={handleNumberChange}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers:</h2>\n\n      {persons.filter(person => person.name.toLowerCase().search(filter.toLowerCase()) !== -1).map(\n        person => <Display key = {person.id} person={person} handleClick={handleDeleteButton} />\n      )}\n\n\n      ...\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}